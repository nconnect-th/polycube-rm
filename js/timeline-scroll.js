document.addEventListener("DOMContentLoaded",(function(){console.log("Timeline scroll animation initialized - Scroll direction mode");document.querySelectorAll(".bdt-timeline-item");const t=document.querySelectorAll(".bdt-timeline-item-main-container"),e=document.querySelectorAll(".bdt-timeline-item-main");let n=0,i="down";const o=new Set;let l;e.forEach(((t,e)=>{t.classList.remove("bdt-animation-slide-left","bdt-animation-slide-right"),e%2==0?t.setAttribute("data-animation","slide-right"):t.setAttribute("data-animation","slide-left"),t.closest(".bdt-timeline-item-main-container")&&(t.closest(".bdt-timeline-item-main-container").style.visibility="visible"),t.style.opacity="0",t.style.transform=e%2==0?"translateX(50px) translateY(30px)":"translateX(-50px) translateY(30px)",t.style.transition="opacity 0.8s ease, transform 0.8s ease";const n=t.closest(".bdt-timeline-item-main-container");if(n){const t=n.querySelector(".bdt-timeline-icon"),e=n.querySelector(".bdt-timeline-arrow"),i=n.querySelector(".bdt-timeline-line span");t&&(t.style.opacity="0",t.style.transform="scale(0.5)",t.style.transition="opacity 0.5s ease, transform 0.5s ease"),e&&(e.style.opacity="0",e.style.transition="opacity 0.4s ease"),i&&(i.style.height="0",i.style.transition="height 0.6s ease")}})),window.addEventListener("scroll",(function(){!function(){const t=window.pageYOffset||document.documentElement.scrollTop;t>n?i="down":t<n&&(i="up"),n=t<=0?0:t}(),clearTimeout(l),l=setTimeout((()=>{console.log("Scroll ended, direction was:",i)}),150)}),{passive:!0});const s=new IntersectionObserver((t=>{t.forEach((t=>{const e=t.target,n=e.querySelector(".bdt-timeline-item-main");n&&(t.isIntersecting?function(t,e){if(!o.has(t)){console.log("Showing timeline item, scroll direction:",i),o.add(t),e.classList.remove("scroll-out-up","scroll-out-down"),"down"===i?e.classList.add("scroll-in-down"):e.classList.add("scroll-in-up"),setTimeout((()=>{e.style.opacity="1",e.style.transform="translateX(0) translateY(0)",e.classList.add("animate-in")}),100);const n=t.querySelector(".bdt-timeline-icon");n&&setTimeout((()=>{n.style.opacity="1",n.style.transform="scale(1)"}),200);const l=t.querySelector(".bdt-timeline-line span");l&&setTimeout((()=>{l.style.height="100%"}),300);const s=t.querySelector(".bdt-timeline-arrow");s&&setTimeout((()=>{s.style.opacity="1"}),400)}}(e,n):function(t,e){o.has(t)&&(console.log("Hiding timeline item, scroll direction:",i),o.delete(t),e.classList.remove("animate-in","scroll-in-up","scroll-in-down"),"up"===i?e.classList.add("scroll-out-up"):e.classList.add("scroll-out-down"),setTimeout((()=>{e.style.opacity="0",e.style.transform="up"===i?"translateY(-50px) scale(0.9)":"translateY(50px) scale(0.9)";const n=t.querySelector(".bdt-timeline-icon"),o=t.querySelector(".bdt-timeline-arrow"),l=t.querySelector(".bdt-timeline-line span");n&&(n.style.opacity="0",n.style.transform="scale(0.5)"),o&&(o.style.opacity="0"),l&&(l.style.height="0")}),100))}(e,n))}))}),{root:null,rootMargin:"0px",threshold:.2});t.forEach((t=>{s.observe(t)})),console.log("Timeline scroll animation setup complete - observing",t.length,"containers")}));const style=document.createElement("style");style.textContent="\n    @keyframes timelineAppear {\n        0% {\n            opacity: 0;\n            transform: translateY(30px) scale(0.9);\n        }\n        50% {\n            opacity: 0.8;\n            transform: translateY(-5px) scale(1.05);\n        }\n        100% {\n            opacity: 1;\n            transform: translateY(0) scale(1);\n        }\n    }\n    \n    .bdt-timeline-item-main {\n        transform-origin: center;\n    }\n    \n    .bdt-timeline-line span {\n        transform-origin: top;\n    }\n    \n    /* One-by-one animation enhancement */\n    .bdt-timeline-item-main.animate-in {\n        animation: timelineAppear 0.8s ease-out;\n    }\n    \n    /* Smooth transitions */\n    .bdt-timeline-icon {\n        transform-origin: center;\n    }\n    \n    /* Clean up animation classes after completion */\n    .bdt-timeline-item-main {\n        animation-fill-mode: forwards;\n    }\n",document.head.appendChild(style),document.addEventListener("animationend",(function(t){t.target.classList.contains("bdt-timeline-item-main")&&setTimeout((()=>{t.target.classList.remove("scroll-in-up","scroll-in-down","scroll-out-up","scroll-out-down")}),100)})),window.addEventListener("load",(function(){setTimeout((()=>{const t=document.querySelectorAll('.bdt-timeline-item-main[style*="opacity: 0"]');t.length>0&&(console.warn("Forcing visibility for",t.length,"timeline items that did not animate"),t.forEach((t=>{t.style.opacity="1",t.style.transform="translateX(0) translateY(0)";const e=t.closest(".bdt-timeline-item-main-container");if(e){const t=e.querySelector(".bdt-timeline-icon"),n=e.querySelector(".bdt-timeline-arrow"),i=e.querySelector(".bdt-timeline-line span");t&&(t.style.opacity="1",t.style.transform="scale(1)"),n&&(n.style.opacity="1"),i&&(i.style.height="100%")}}))),document.querySelectorAll(".bdt-timeline-item-main-container, .bdt-timeline-item-main, .bdt-timeline-icon, .bdt-timeline-arrow").forEach((t=>{t.style.visibility="visible"}))}),5e3)}));